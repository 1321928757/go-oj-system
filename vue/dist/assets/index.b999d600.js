import{d as p,r as d,o as f,c as h,a as g,b as L,e as E,f as v,i as y,z as O}from"./vendor.e61da12b.js";const P=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}};P();const I=p({setup(o){return(n,i)=>{const t=d("router-view");return f(),h(t)}}});const c=g({state:{collapse:!1,isLogin:!1,token:null,username:null,is_admin:0},mutations:{changeCollapse(o,n){console.log(n),o.collapse=n},loginSucc(o,n){o.token=n,o.isLogin=!0},setUser(o,n){o.username=n.username,o.is_admin=n.is_admin},logout(o,n){o.isLogin=!1}}}),A="modulepreload",l={},S="./",a=function(n,i){return!i||i.length===0?n():Promise.all(i.map(t=>{if(t=`${S}${t}`,t in l)return;l[t]=!0;const e=t.endsWith(".css"),r=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${r}`))return;const s=document.createElement("link");if(s.rel=e?"stylesheet":A,e||(s.as="script",s.crossOrigin=""),s.href=t,document.head.appendChild(s),e)return new Promise((m,_)=>{s.addEventListener("load",m),s.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>n())},D=[{path:"/",redirect:"/questionList"},{path:"/index",component:()=>a(()=>import("./index.66dbf1c4.js"),["assets/index.66dbf1c4.js","assets/index.60ea683b.css","assets/vendor.e61da12b.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/login.58ec4f43.js","assets/login.89a22163.css","assets/api.03f0bf99.js"]),children:[{path:"",name:"Home",component:()=>a(()=>import("./home.54c0ee69.js"),["assets/home.54c0ee69.js","assets/home.2100a805.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.e61da12b.js"])},{path:"/questionList",name:"questionList",component:()=>a(()=>import("./index.6e589333.js"),["assets/index.6e589333.js","assets/index.d334f66f.css","assets/vendor.e61da12b.js","assets/api.03f0bf99.js","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"/questionManage",name:"questionManage",component:()=>a(()=>import("./index.76f83b3d.js"),["assets/index.76f83b3d.js","assets/index.52ced1ad.css","assets/vendor.e61da12b.js","assets/api.03f0bf99.js","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"/questionDetail",name:"questionDetail",component:()=>a(()=>import("./details.d4b2164d.js").then(function(o){return o.d}),["assets/details.d4b2164d.js","assets/details.8aaba192.css","assets/vendor.e61da12b.js","assets/api.03f0bf99.js","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"/topList",name:"topList",component:()=>a(()=>import("./index.5d1bd255.js"),["assets/index.5d1bd255.js","assets/index.984a0753.css","assets/vendor.e61da12b.js","assets/api.03f0bf99.js","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"/submitList",name:"submitList",component:()=>a(()=>import("./index.4cff0844.js"),["assets/index.4cff0844.js","assets/index.3e7cabe3.css","assets/vendor.e61da12b.js","assets/api.03f0bf99.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/login",component:()=>a(()=>import("./login.58ec4f43.js"),["assets/login.58ec4f43.js","assets/login.89a22163.css","assets/vendor.e61da12b.js","assets/api.03f0bf99.js","assets/plugin-vue_export-helper.21dcd24c.js"])}],u=L({history:E(),routes:D});u.beforeEach((o,n,i)=>{const t=localStorage.getItem("token");if(!t&&o.path!=="/login")i();else if(o.meta.permission)t==="admin"?i():i("/403");else{if(t&&!c.state.isLogin){const e=localStorage.getItem("username"),r=localStorage.getItem("is_admin");c.commit("loginSucc",t),c.commit("setUser",{username:e,is_admin:r})}i()}});v(I).use(u).use(y,{locale:O}).use(c).mount("#app");
